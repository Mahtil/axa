<!DOCTYPE html>

<html lang="en">

<head>

    <meta charset="UTF-8">

    <meta name="viewport" content="width=device-width, initial-scale=1.0">

    <title>p-b Notepad</title>

    <link rel="stylesheet" href="styles.css">

</head>

<body>

    <div class="container">

        <h1>p-b Notepad</h1>

        <textarea id="noteInput" placeholder="Type your note here..."></textarea>

        <button id="saveNote">Save Note</button>

        <button id="exportNote">Export as TXT</button>

        <input type="text" id="searchInput" placeholder="Search Notes" />

        <ul id="notesList"></ul>

        <input type="password" id="encryptPassword" placeholder="Password to encrypt" />

        <button id="encryptNote">Encrypt Note</button>

        <button id="shareNote">Share Note</button>

    </div>

    <script src="script.js"></script>

</body>

</html>
body {
    margin: 0;
    font-family: Arial, sans-serif;
    background-color: #f4f4f4;
    color: #333;
}

.container {
    max-width: 600px;
    margin: 50px auto;
    padding: 20px;
    border: 1px solid #ccc;
    border-radius: 10px;
    background: white;
    box-shadow: 0 0 10px rgba(0, 0, 0, 0.1);
}

h1 {
    text-align: center;
}

textarea {
    width: 100%;
    height: 100px;
    margin-bottom: 10px;
}

button, input[type="text"], input[type="password"] {
    margin: 5px 0;
    width: 100%;
}

#notesList {
    list-style-type: none;
    padding: 0;
}
const noteInput = document.getElementById('noteInput');
const saveNoteBtn = document.getElementById('saveNote');
const exportNoteBtn = document.getElementById('exportNote');
const searchInput = document.getElementById('searchInput');
const notesList = document.getElementById('notesList');
const encryptPassword = document.getElementById('encryptPassword');
const encryptNoteBtn = document.getElementById('encryptNote');
const shareNoteBtn = document.getElementById('shareNote');

let notes = JSON.parse(localStorage.getItem('notes')) || [];

// Load notes from localStorage
loadNotes();

function loadNotes() {
    notesList.innerHTML = '';
    notes.forEach(note => {
        const li = document.createElement('li');
        li.textContent = note.text;
        li.dataset.note = note.text; // Store note data
        notesList.appendChild(li);
    });
}

// Save a new note
saveNoteBtn.addEventListener('click', () => {
    const noteText = noteInput.value.trim();
    if (noteText) {
        notes.push({ text: noteText });
        localStorage.setItem('notes', JSON.stringify(notes));
        loadNotes();
        noteInput.value = '';
    }
});

// Export note as TXT
exportNoteBtn.addEventListener('click', () => {
    const textBlob = new Blob([notes.map(note => note.text).join('\n')], { type: 'text/plain' });
    const link = document.createElement('a');
    link.href = URL.createObjectURL(textBlob);
    link.download = 'notes.txt';
    link.click();
});

// Search notes
searchInput.addEventListener('input', () => {
    const filter = searchInput.value.toLowerCase();
    const filteredNotes = notes.filter(note => note.text.toLowerCase().includes(filter));
    notesList.innerHTML = '';
    filteredNotes.forEach(note => {
        const li = document.createElement('li');
        li.textContent = note.text;
        notesList.appendChild(li);
    });
});

// Encrypt note
encryptNoteBtn.addEventListener('click', () => {
    const password = encryptPassword.value;
    const noteText = noteInput.value;
    if (noteText && password) {
        // Simple encryption using btoa
        const encryptedNote = btoa(noteText + password);
        notes.push({ text: encryptedNote });
        localStorage.setItem('notes', JSON.stringify(notes));
        loadNotes();
        noteInput.value = '';
        encryptPassword.value = '';
    }
});

// Share note
shareNoteBtn.addEventListener('click', () => {
    if (notes.length > 0) {
        const noteText = notes[notes.length - 1].text; // latest note to share
        const encodedNote = encodeURIComponent(noteText);
        const shareUrl = `https://mahtil.github.io/axa/=${encodedNote}`;
        alert(`Share this link: ${shareUrl}`);
    }
});
